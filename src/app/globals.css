@import "tailwindcss";
@import "../styles/tokens.css";

@layer base {
  * {
    @apply border-[rgb(var(--color-border-subtle))];
  }

  body {
    @apply bg-[rgb(var(--color-market-depth))] text-[rgb(var(--color-clear-signal))];
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Scrollbar Styling - Desktop Only */
  @media (min-width: 1024px) {
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgb(var(--color-market-depth));
    }

    ::-webkit-scrollbar-thumb {
      background: rgb(var(--color-panel-edge));
      border-radius: var(--radius-full);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgb(var(--color-border-subtle));
    }
  }

  /* Selection */
  ::selection {
    background: rgba(var(--color-profit-pulse), 0.3);
    color: rgb(var(--color-clear-signal));
  }
}

@layer utilities {
  /* Background Colors */
  .bg-market-depth {
    background-color: rgb(var(--color-market-depth));
  }
  .bg-chart-canvas {
    background-color: rgb(var(--color-chart-canvas));
  }
  .bg-panel-edge {
    background-color: rgb(var(--color-panel-edge));
  }

  /* Text Colors */
  .text-clear-signal {
    color: rgb(var(--color-clear-signal));
  }
  .text-market-mist {
    color: rgb(var(--color-market-mist));
  }
  .text-distant-data {
    color: rgb(var(--color-distant-data));
  }

  /* Brand Colors */
  .text-profit-pulse {
    color: rgb(var(--color-profit-pulse));
  }
  .text-data-stream {
    color: rgb(var(--color-data-stream));
  }
  .text-golden-edge {
    color: rgb(var(--color-golden-edge));
  }
  .text-bull-run {
    color: rgb(var(--color-bull-run));
  }
  .text-bear-strike {
    color: rgb(var(--color-bear-strike));
  }

  .bg-profit-pulse {
    background-color: rgb(var(--color-profit-pulse));
  }
  .bg-data-stream {
    background-color: rgb(var(--color-data-stream));
  }
  .bg-golden-edge {
    background-color: rgb(var(--color-golden-edge));
  }
  .bg-bull-run {
    background-color: rgb(var(--color-bull-run));
  }
  .bg-bear-strike {
    background-color: rgb(var(--color-bear-strike));
  }

  /* Border Colors */
  .border-profit-pulse {
    border-color: rgb(var(--color-profit-pulse));
  }
  .border-bear-strike {
    border-color: rgb(var(--color-bear-strike));
  }
  .border-golden-edge {
    border-color: rgb(var(--color-golden-edge));
  }
  .border-data-stream {
    border-color: rgb(var(--color-data-stream));
  }

  /* Glows */
  .glow-profit {
    box-shadow: var(--shadow-glow-profit);
  }
  .glow-loss {
    box-shadow: var(--shadow-glow-loss);
  }
  .glow-gold {
    box-shadow: var(--shadow-glow-gold);
  }

  /* Animation Utilities */
  .transition-swift {
    transition-duration: var(--duration-swift);
    transition-timing-function: var(--ease-out);
  }
  .transition-smooth {
    transition-duration: var(--duration-smooth);
    transition-timing-function: var(--ease-out);
  }
  .transition-deliberate {
    transition-duration: var(--duration-deliberate);
    transition-timing-function: var(--ease-in-out);
  }

  /* Gradient Text */
  .text-gradient-profit {
    background: linear-gradient(135deg, rgb(var(--color-profit-pulse)), rgb(var(--color-data-stream)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-gold {
    background: linear-gradient(135deg, rgb(var(--color-golden-edge)), #fcd34d);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* === MOBILE UTILITIES === */

  /* Glass Effect */
  .glass {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
  }

  /* Safe Area Padding */
  .safe-top {
    padding-top: var(--safe-top);
  }
  .safe-bottom {
    padding-bottom: var(--safe-bottom);
  }
  .safe-left {
    padding-left: var(--safe-left);
  }
  .safe-right {
    padding-right: var(--safe-right);
  }
  .safe-x {
    padding-left: var(--safe-left);
    padding-right: var(--safe-right);
  }
  .safe-y {
    padding-top: var(--safe-top);
    padding-bottom: var(--safe-bottom);
  }

  /* Touch Targets - Minimum 44px */
  .touch-target {
    min-width: var(--touch-target-sm);
    min-height: var(--touch-target-sm);
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
  .touch-target-md {
    min-width: var(--touch-target-md);
    min-height: var(--touch-target-md);
  }
  .touch-target-lg {
    min-width: var(--touch-target-lg);
    min-height: var(--touch-target-lg);
  }

  /* Mobile Navigation Spacing */
  .pt-header {
    padding-top: var(--header-height);
  }
  .pb-bottom-nav {
    padding-bottom: var(--bottom-nav-height);
  }

  /* Gradient Backgrounds */
  .gradient-premium {
    background: linear-gradient(
      135deg,
      rgb(var(--color-chart-canvas)) 0%,
      rgba(var(--color-profit-pulse), 0.05) 50%,
      rgb(var(--color-chart-canvas)) 100%
    );
  }

  .gradient-hero {
    background: linear-gradient(
      180deg,
      rgb(var(--color-market-depth)) 0%,
      rgba(var(--color-profit-pulse), 0.03) 50%,
      rgb(var(--color-market-depth)) 100%
    );
  }

  .gradient-card {
    background: linear-gradient(
      145deg,
      rgb(var(--color-chart-canvas)) 0%,
      rgb(var(--color-panel-edge)) 100%
    );
  }

  /* Hide on Mobile/Desktop */
  .mobile-only {
    display: block;
  }
  .desktop-only {
    display: none;
  }

  @media (min-width: 1024px) {
    .mobile-only {
      display: none;
    }
    .desktop-only {
      display: block;
    }
  }

  /* Active States for Mobile */
  .active-scale {
    transition: transform var(--duration-instant) var(--ease-out);
  }
  .active-scale:active {
    transform: scale(0.97);
  }

  /* Pulse Animation for Live Indicators */
  .pulse-live {
    animation: pulse-live 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse-live {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  /* Shimmer Loading Effect */
  .shimmer {
    background: linear-gradient(
      90deg,
      rgb(var(--color-panel-edge)) 25%,
      rgb(var(--color-border-subtle)) 50%,
      rgb(var(--color-panel-edge)) 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }

  /* Slide Up Animation */
  .animate-slide-up {
    animation: slide-up var(--duration-smooth) var(--ease-out) forwards;
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Scale In Animation */
  .animate-scale-in {
    animation: scale-in var(--duration-smooth) var(--ease-spring) forwards;
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
}